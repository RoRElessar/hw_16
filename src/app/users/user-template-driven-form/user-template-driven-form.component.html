<h1>Template driven form</h1>

<div class="container">
  <form #userForm="ngForm" (ngSubmit)="onSubmit($event)">

    <div class="example-container">

      <div class="form-group width-50">
        <mat-form-field appearance="fill" class="width-100">
          <mat-label>First name</mat-label>
          <input matInput
                 type="text"
                 required
                 [(ngModel)]="user.first_name"
                 #firstName="ngModel"
                 name="first_name">
        </mat-form-field>
        <app-error [formField]="firstName" [regExp]="nameRegExp"></app-error>
      </div>

      <div class="form-group width-50">
        <mat-form-field appearance="fill" class="width-100">
          <mat-label>Last name</mat-label>
          <input matInput
                 type="text"
                 required
                 [(ngModel)]="user.last_name"
                 #lastName="ngModel"
                 name="last_name">
        </mat-form-field>
        <app-error [formField]="lastName" [regExp]="nameRegExp"></app-error>
      </div>
      <br>

      <div class="form-group width-50">
        <mat-form-field appearance="fill" class="width-100">
          <mat-label>User name</mat-label>
          <input matInput
                 type="text"
                 required
                 [(ngModel)]="user.name"
                 #userName="ngModel"
                 name="name">
        </mat-form-field>
        <app-error [formField]="userName" [regExp]="nameRegExp"></app-error>
      </div>

      <div class="form-group width-50">
        <mat-form-field appearance="fill" class="width-100">
          <mat-label>Email</mat-label>
          <input matInput
                 type="email"
                 required
                 [(ngModel)]="user.email"
                 #email="ngModel"
                 name="email">
        </mat-form-field>
        <app-error [formField]="email" [regExp]="emailRegExp"></app-error>
      </div>

      <div class="form-group width-50">
        <mat-form-field appearance="fill" class="width-100">
          <mat-label>Password</mat-label>
          <input matInput
                 type="password"
                 required
                 #password="ngModel"
                 [(ngModel)]="user.password"
                 name="password">
        </mat-form-field>
        <app-error [formField]="password"></app-error>
      </div>

      <div class="form-group width-50">
        <mat-form-field appearance="fill" class="width-100">
          <mat-label>Confirm password</mat-label>
          <input matInput
                 type="password"
                 required
                 #passwordConfirmation="ngModel"
                 [(ngModel)]="user.password_confirmation"
                 name="password_confirmation">
        </mat-form-field>
        <app-error [formField]="passwordConfirmation"></app-error>
      </div>

      <div class="form-group width-50">
        <mat-form-field appearance="fill" class="width-100">
          <mat-label>Region</mat-label>
          <mat-select required>
            <mat-option *ngFor="let region of regions"
                        [value]="region"
                        (click)="setRegionValue(regionInput, region)">
              {{region}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <input type="hidden" name="region" #regionInput [(ngModel)]="user.region">
      </div>

      <div class="form-group width-50">
        <mat-radio-group aria-label="Select an option"
                         [(ngModel)]="user.sex"
                         name="sex">
          <mat-radio-button checked
                            value="male">
            Male
          </mat-radio-button>&nbsp;&nbsp;
          <mat-radio-button value="female">
            Female
          </mat-radio-button>
        </mat-radio-group>
      </div>

      <div class="form-group width-100">
        <mat-form-field appearance="fill" class="width-100">
          <mat-label>Additional Information</mat-label>
          <textarea matInput
                    class="height-200"
                    [(ngModel)]="user.additional_information"
                    name="additional_information"></textarea>
        </mat-form-field>
      </div>

      <div class="form-group width-100">
        <mat-checkbox [(ngModel)]="user.subscription"
                      checked="checked"
                      name="subscription">
          Subscribe to newsletters
        </mat-checkbox>
      </div>

      <br />
      <br />

      <div class="form-group width-100">
        <button type="button" mat-raised-button (click)="fileInput.click()">Choose File *</button>
        <input hidden
               type="file"
               #fileInput
               ngModel
               required
               name="image">
      </div>

      <br />
      <br />

      <div class="form-group width-100">
        <button mat-raised-button color="primary"
                type="submit" [disabled]="!userForm.form.valid">
          Register
        </button>
      </div>

    </div>

  </form>
</div>
